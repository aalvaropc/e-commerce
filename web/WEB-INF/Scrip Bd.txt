Create database Amazon;
use Amazon;

CREATE TABLE IF NOT EXISTS `Amazon`.`Clientes` (
  `idClientes` INT NOT NULL,
  `Nombre` VARCHAR(45) NOT NULL,
  `Apellidos` VARCHAR(45) NOT NULL,
  `Email` VARCHAR(45) NOT NULL,
  `Telefóno` VARCHAR(45) NOT NULL,
  `Direccion` VARCHAR(50) NOT NULL,
  `Tarjeta` VARCHAR(45) NULL,
  PRIMARY KEY (`idClientes`))
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `Amazon`.`Categorias` (
  `idCategorias` INT NOT NULL,
  `Nombre` VARCHAR(45) NOT NULL,
  `Descripcion` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idCategorias`))
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `Amazon`.`Usuario` (
  `idUsuario` INT NOT NULL,
  `NombreUsu` VARCHAR(45) NOT NULL,
  `Email` VARCHAR(50) NOT NULL,
  `Contraseña` VARCHAR(45) NOT NULL,
  `Rol` VARCHAR(45) NOT NULL,
  `Clientes_idClientes` INT NOT NULL,
  PRIMARY KEY (`idUsuario`),
  INDEX `fk_Usuario_Clientes1_idx` (`Clientes_idClientes` ASC) VISIBLE,
  CONSTRAINT `fk_Usuario_Clientes1`
    FOREIGN KEY (`Clientes_idClientes`)
    REFERENCES `Amazon`.`Clientes` (`idClientes`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `Amazon`.`Pedidos` (
  `idPedidos` INT NOT NULL,
  `Clientes_idClientes` INT NOT NULL,
  `Cantidad` VARCHAR(45) NOT NULL,
  `Fechapedido` VARCHAR(45) NOT NULL,
  `EstadoPedido` VARCHAR(45) NOT NULL,
  `Precio` DOUBLE NOT NULL,
  PRIMARY KEY (`idPedidos`),
  INDEX `fk_Pedidos_Clientes1_idx` (`Clientes_idClientes` ASC) VISIBLE,
  CONSTRAINT `fk_Pedidos_Clientes1`
    FOREIGN KEY (`Clientes_idClientes`)
    REFERENCES `Amazon`.`Clientes` (`idClientes`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `Amazon`.`Marcas` (
  `idMarcas` INT NOT NULL,
  `NombreMarca` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idMarcas`))
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `Amazon`.`Producto` (
  `idProducto` INT NOT NULL,
  `Nombre` VARCHAR(45) NOT NULL,
  `Descripcion` VARCHAR(70) NOT NULL,
  `Categorias_idCategorias` INT NOT NULL,
  `Precio` DOUBLE NOT NULL,
  `Exist` VARCHAR(45) NOT NULL,
  `Marcas_idMarcas` INT NOT NULL,
  `Pedidos_idPedidos` INT NOT NULL,
  `Imagen` BLOB NOT NULL,
  PRIMARY KEY (`idProducto`),
  INDEX `fk_Producto_Categorias_idx` (`Categorias_idCategorias` ASC) VISIBLE,
  INDEX `fk_Producto_Marcas1_idx` (`Marcas_idMarcas` ASC) VISIBLE,
  INDEX `fk_Producto_Pedidos1_idx` (`Pedidos_idPedidos` ASC) VISIBLE,
  CONSTRAINT `fk_Producto_Categorias`
    FOREIGN KEY (`Categorias_idCategorias`)
    REFERENCES `Amazon`.`Categorias` (`idCategorias`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Producto_Marcas1`
    FOREIGN KEY (`Marcas_idMarcas`)
    REFERENCES `Amazon`.`Marcas` (`idMarcas`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Producto_Pedidos1`
    FOREIGN KEY (`Pedidos_idPedidos`)
    REFERENCES `Amazon`.`Pedidos` (`idPedidos`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;



